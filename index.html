<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>English Vocab Quiz</title>
    <style>
        /* Reset & CƒÉn ch·ªânh to√†n m√†n h√¨nh */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow-x: hidden;
        }

        #quiz-wrapper {
            font-family: 'Quicksand', sans-serif;
            width: 100%;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #fdf2f4;
            color: #444;
            padding: 20px 0;
        }

        .quiz-container {
            background: rgba(255, 255, 255, 0.98);
            padding: 40px;
            width: 95%;
            max-width: 1100px; /* T·ªëi ∆∞u cho m√†n h√¨nh m√°y t√≠nh */
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            text-align: center;
            border: 1px solid #fce4ec;
            border-radius: 30px;
            box-sizing: border-box;
        }

        .hidden { display: none !important; }

        #quiz-progress {
            font-size: 22px;
            color: #ff758c;
            font-weight: 700;
            margin-bottom: 15px;
        }

        /* ·∫¢nh c√¢u h·ªèi to r√µ */
        .sport-img {
            width: 100%;
            max-width: 650px;
            height: 350px;
            object-fit: cover;
            border-radius: 20px;
            margin: 0 auto 20px auto;
            display: block;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }

        #quiz-question {
            font-size: 30px;
            margin: 20px 0;
            color: #2d3436;
            font-weight: 700;
            line-height: 1.3;
        }

        /* B·ªë c·ª•c ƒë√°p √°n 2 c·ªôt: Tr√°i (A, C) - Ph·∫£i (B, D) */
        #quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr; 
            gap: 25px;
            margin-top: 30px;
        }

        .opt-btn {
            width: 100%;
            padding: 25px 20px;
            border: 2px solid #ffccd5;
            border-radius: 20px;
            background: #fff;
            cursor: pointer;
            font-size: 26px;
            font-weight: 600;
            color: #555;
            transition: all 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 80px;
        }

        .opt-btn:hover:not(:disabled) {
            background-color: #fff0f3;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 117, 140, 0.2);
        }

        .opt-btn.correct-choice {
            background-color: #4caf50 !important;
            color: white !important;
            border-color: #388e3c !important;
        }

        .opt-btn.wrong-choice {
            background-color: #f44336 !important;
            color: white !important;
            border-color: #d32f2f !important;
        }

        .btn-main {
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            color: white;
            border: none;
            padding: 18px 50px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 24px;
            margin-top: 25px;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(255, 154, 158, 0.4);
        }

        @media (max-width: 800px) {
            #quiz-options { grid-template-columns: 1fr; }
            .quiz-container { width: 98%; padding: 20px; }
            .sport-img { height: 200px; }
            #quiz-question { font-size: 24px; }
        }
    </style>
</head>
<body>

<div id="quiz-wrapper">
    <div id="screen-start" class="quiz-container">
        <h1 style="color: #ff758c; font-size: 56px; margin-bottom: 10px;">English Vocab Quiz</h1>
        <p style="font-size: 26px; margin-bottom: 30px;">Ch√†o m·ª´ng em ƒë·∫øn v·ªõi b√†i thi t·ª´ v·ª±ng l·ªõp 6!</p>
        <input type="text" id="input-name" placeholder="Nh·∫≠p t√™n c·ªßa em..." 
               style="font-size: 24px; padding: 20px; width: 60%; border-radius: 20px; border: 3px solid #ffccd5; text-align: center; outline: none;">
        <br>
        <button class="btn-main" onclick="startQuiz()">B·∫ÆT ƒê·∫¶U NGAY</button>
    </div>

    <div id="screen-quiz" class="quiz-container hidden">
        <div id="quiz-progress"></div>
        <div id="image-container"></div>
        <h3 id="quiz-question"></h3>
        <div id="quiz-options"></div>
        <div id="quiz-feedback" style="font-size: 32px; margin-top: 25px; font-weight: 800; min-height: 40px;"></div>
        <button id="btn-next-q" class="btn-main hidden" onclick="goNext()">TI·∫æP THEO</button>
    </div>

    <div id="screen-result" class="quiz-container hidden">
        <h2 style="color:#ff758c; font-size: 45px;">K·∫æT QU·∫¢ B√ÄI L√ÄM</h2>
        <h1 id="final-score" style="font-size:100px; margin:10px 0; color:#ff758c; font-weight: 900;">0/20</h1>
        <p id="hello-name" style="font-weight:700; color:#555; font-size: 32px; margin-bottom: 20px;"></p>
        <div id="quiz-review" style="text-align: left; background: #fff5f7; padding: 30px; border-radius: 25px; max-height: 350px; overflow-y: auto; border: 1px solid #ffccd5;"></div>
        <button class="btn-main" onclick="location.reload()">L√ÄM L·∫†I B√ÄI</button>
    </div>
</div>

<audio id="snd-right" preload="auto">
    <source src="https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3" type="audio/mpeg">
</audio>
<audio id="snd-wrong" preload="auto">
    <source src="https://assets.mixkit.co/active_storage/sfx/2003/2003-preview.mp3" type="audio/mpeg">
</audio>

<script>
    const data = [
        { q: "Look at the picture. What sport is it?", img: "https://images.unsplash.com/photo-1515025617920-e1e674b5033c?q=80&w=1244&auto=format&fit=crop", o: ["Judo", "Karate", "Swimming", "Rugby"], a: 0 },
        { q: "What is the person doing in the picture?", img: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?q=80&w=1170&auto=format&fit=crop", o: ["Sailing", "Scuba diving", "Mountain climbing", "Skateboarding"], a: 1 },
        { q: "Identify the activity in the image:", img: "https://images.unsplash.com/photo-1592656094267-764a45160876?q=80&w=1170&auto=format&fit=crop", o: ["Skiing", "Volleyball", "Table tennis", "Wrestling"], a: 1 },
        { q: "This sport is:", img: "https://plus.unsplash.com/premium_photo-1667941272772-70243b7b4f63?q=80&w=1170&auto=format&fit=crop", o: ["Rugby", "Karate", "Judo", "Sailing"], a: 1 },
        { q: "They are playing:", img: "https://images.unsplash.com/photo-1675668409066-c4811bed946b?q=80&w=1171&auto=format&fit=crop", o: ["Table tennis", "Volleyball", "Wrestling", "Skiing"], a: 0 },
        { q: "What sport is shown?", img: "https://images.unsplash.com/photo-1605548109944-9040d0972bf5?q=80&w=1170&auto=format&fit=crop", o: ["Mountain climbing", "Scuba diving", "Skateboarding", "Sailing"], a: 0 },
        { q: "This activity is called:", img: "https://plus.unsplash.com/premium_photo-1661868371660-eac62d15361f?q=80&w=1170&auto=format&fit=crop", o: ["Skiing", "Swimming", "Wrestling", "Rugby"], a: 0 },
        { q: "Look! The boy is:", img: "https://images.unsplash.com/photo-1534531304203-b830551771b9?q=80&w=1112&auto=format&fit=crop", o: ["Skateboarding", "Mountain climbing", "Scuba diving", "Sailing"], a: 0 },
        { q: "They are playing match of:", img: "https://images.unsplash.com/photo-1512299286776-c18be8ed6a1a?q=80&w=1170&auto=format&fit=crop", o: ["Judo", "Karate", "Rugby", "Table tennis"], a: 2 },
        { q: "What is this sport?", img: "https://plus.unsplash.com/premium_photo-1664304747805-24b97bddf900?q=80&w=1057&auto=format&fit=crop", o: ["Wrestling", "Rugby", "Skiing", "Swimming"], a: 0 },
        { q: "Nghƒ©a c·ªßa t·ª´ 'Opponent' l√† g√¨?", o: ["Tr·∫≠n ƒë·∫•u", "ƒê·ªëi th·ªß", "Chi·∫øn th·∫Øng", "Ng∆∞·ªùi th·∫Øng"], a: 1 },
        { q: "Nghƒ©a c·ªßa t·ª´ 'Score' l√† g√¨?", o: ["Ghi b√†n/ƒêi·ªÉm s·ªë", "ƒê·ªëi th·ªß", "Tr·∫≠n ƒë·∫•u", "Thua cu·ªôc"], a: 0 },
        { q: "Nghƒ©a c·ªßa t·ª´ 'Victory' l√† g√¨?", o: ["H√≤a", "Chi·∫øn th·∫Øng", "Ng∆∞·ªùi th·∫Øng", "Tr·∫≠n ƒë·∫•u"], a: 1 },
        { q: "Nghƒ©a c·ªßa t·ª´ 'Winner' l√† g√¨?", o: ["Ng∆∞·ªùi th·∫Øng cu·ªôc", "ƒê·ªëi th·ªß", "Ng∆∞·ªùi thua", "Ghi b√†n"], a: 0 },
        { q: "Nghƒ©a c·ªßa t·ª´ 'Match' l√† g√¨?", o: ["H√≤a", "Tr·∫≠n ƒë·∫•u", "ƒê·ªëi th·ªß", "Chi·∫øn th·∫Øng"], a: 1 },
        { q: "In a football ______, there are two teams.", o: ["loser", "match", "score", "victory"], a: 1 },
        { q: "Our team celebrated a great ______!", o: ["victory", "opponent", "loser", "draw"], a: 0 },
        { q: "He felt sad because he was the ______.", o: ["winner", "match", "loser", "victory"], a: 2 },
        { q: "It's important to respect your ______.", o: ["score", "victory", "opponent", "winner"], a: 2 },
        { q: "If both teams have the same goals, they ______.", o: ["win", "lose", "draw", "victory"], a: 2 }
    ];

    let cur = 0; let score = 0; let log = [];
    const sndRight = document.getElementById('snd-right');
    const sndWrong = document.getElementById('snd-wrong');

    function startQuiz() {
        let n = document.getElementById('input-name').value;
        if(!n) return alert("Vui l√≤ng nh·∫≠p t√™n!");
        
        // K√≠ch ho·∫°t √¢m thanh
        sndRight.play().then(() => { sndRight.pause(); sndRight.currentTime = 0; }).catch(() => {});
        sndWrong.play().then(() => { sndWrong.pause(); sndWrong.currentTime = 0; }).catch(() => {});

        document.getElementById('hello-name').innerText = "H·ªçc sinh: " + n;
        document.getElementById('screen-start').classList.add('hidden');
        document.getElementById('screen-quiz').classList.remove('hidden');
        loadQ();
    }

    function loadQ() {
        let item = data[cur];
        document.getElementById('quiz-progress').innerText = `C√ÇU H·ªéI ${cur+1} / ${data.length}`;
        document.getElementById('quiz-question').innerText = item.q;
        
        let imgContainer = document.getElementById('image-container');
        if(item.img) {
            imgContainer.innerHTML = `<img src="${item.img}" class="sport-img">`;
        } else {
            imgContainer.innerHTML = "";
        }

        let html = "";
        item.o.forEach((o, i) => {
            html += `<button class="opt-btn" id="opt-${i}" onclick="check(${i})">${o}</button>`;
        });
        document.getElementById('quiz-options').innerHTML = html;
        document.getElementById('quiz-feedback').innerText = "";
        document.getElementById('btn-next-q').classList.add('hidden');
    }

    function check(i) {
        let item = data[cur];
        let f = document.getElementById('quiz-feedback');
        let btns = document.querySelectorAll('.opt-btn');
        btns.forEach(b => b.disabled = true);
        
        let isCorrect = (i === item.a);
        log.push({q: item.q, user: item.o[i], ok: item.o[item.a], isR: isCorrect});

        const selectedBtn = document.getElementById(`opt-${i}`);
        const correctBtn = document.getElementById(`opt-${item.a}`);

        if(isCorrect) {
            score++;
            selectedBtn.classList.add('correct-choice');
            f.innerText = "CH√çNH X√ÅC! üåü";
            f.style.color = "#4caf50";
            sndRight.currentTime = 0;
            sndRight.play().catch(() => {});
        } else {
            selectedBtn.classList.add('wrong-choice');
            correctBtn.classList.add('correct-choice');
            f.innerText = "TI·∫æC QU√Å! ‚ùå";
            f.style.color = "#f44336";
            sndWrong.currentTime = 0;
            sndWrong.play().catch(() => {});
        }
        document.getElementById('btn-next-q').classList.remove('hidden');
    }

    function goNext() {
        cur++;
        if(cur < data.length) loadQ();
        else showResult();
    }

    function showResult() {
        document.getElementById('screen-quiz').classList.add('hidden');
        document.getElementById('screen-result').classList.remove('hidden');
        document.getElementById('final-score').innerText = score + "/" + data.length;
        
        let rev = document.getElementById('quiz-review');
        rev.innerHTML = "<h3 style='font-size: 24px;'>Xem l·∫°i b√†i l√†m:</h3>";
        log.forEach((l, i) => {
            rev.innerHTML += `<div style="border-bottom:1px solid #ddd; padding:10px 0; font-size:18px;">
                <b>C√¢u ${i+1}:</b> ${l.isR ? '<span style="color:green">ƒê√∫ng</span>' : '<span style="color:red">Sai</span>'} - B·∫°n ch·ªçn: ${l.user}<br>
                ${!l.isR ? `<small style="color:#666">ƒê√°p √°n ƒë√∫ng l√†: <b>${l.ok}</b></small>` : ''}
            </div>`;
        });
    }
</script>

</body>
</html>
